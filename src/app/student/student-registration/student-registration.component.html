<div class="registration-form">
  <h2>Student Registration</h2>
  <form (ngSubmit)="register()">
    <div>
      <label>Registration Number:</label>
      <input type="text" [(ngModel)]="reg_no" name="reg_no" required />
    </div>
    <div>
      <label>Name:</label>
      <input type="text" [(ngModel)]="s_name" name="s_name" required />
    </div>
    <div>
      <label>Email:</label>
      <input type="email" [(ngModel)]="email" name="email" required />
    </div>
    <div>
      <label>Mobile Number:</label>
      <input type="text" [(ngModel)]="mob_no" name="mob_no" required />
    </div>

    <div>
      <h3>Capture Photo:</h3>
      <webcam [trigger]="triggerObservable" (imageCapture)="handleImage($event)"></webcam>
      <button type="button" (click)="triggerSnapshot()">Take Photo</button>
      <div *ngIf="photoBase64">
        <h4>Preview:</h4>
        <img [src]="photoBase64" style="max-width: 300px;" />
      </div>
    </div>

    <div>
      <h3>Select Schedules:</h3>
      <div *ngFor="let schedule of schedules">
        <label>
          <input 
            type="checkbox" 
            [value]="schedule.id" 
            (change)="onScheduleChange(schedule.id, $event)"
          />
          {{ schedule.subject }} - {{ schedule.day }} ({{ schedule.startTime }} to {{ schedule.endTime }})
        </label>
      </div>
    </div>

    <button type="submit">Register</button>
    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
  </form>
</div>
